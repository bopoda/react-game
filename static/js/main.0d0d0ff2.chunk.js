(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(7),r=c.n(s),l=(c(12),c(3)),o=c(2),i=c(0);var u=function(e){var t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],s=c[1];function r(e){e.target&&(e.target.classList.contains("new-game-button")||s(!1))}return Object(n.useEffect)((function(){return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}),[]),Object(i.jsxs)("div",{className:"new-game-button-wrapper",children:[Object(i.jsx)("div",{className:"button new-game-button",onClick:function(){s(!a)},children:"New Game"}),a&&Object(i.jsxs)("div",{className:"new-game-menu",children:[Object(i.jsx)("div",{className:"tooltip-arrow",children:" "}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{className:"lost-progress-label",children:"Current game progress will be lost"}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/#",className:"new-game-menu-new",onClick:function(e){e.preventDefault(),localStorage.removeItem("CELLS"),localStorage.removeItem("SECONDS_SPENT"),window.document.location.reload()},children:"New Game"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/#",className:"new-game-menu-restart",onClick:function(t){t.preventDefault(),localStorage.removeItem("CELLS"),localStorage.removeItem("SECONDS_SPENT"),e.restartCells(),window.document.location.reload()},children:"Restart"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/#",className:"new-game-menu-cancel",onClick:function(e){e.preventDefault()},children:"Cancel"})})]})]})]})};var d=function(){var e=[{mission:"970000600201509034830040010000402000706050002052038000500817006620394051000060403",solution:"974123685261589734835746219319472568786951342452638197543817926627394851198265473"},{mission:"020000000158000030340160902009208175000040000035601000000300594513480007690752003",solution:"926873451158924736347165982469238175281547369735691248872316594513489627694752813"},{mission:"060003000000004703074100020490038057208040096700600204501489600009000031000316509",solution:"962873415185924763374165928496238157218547396753691284531489672649752831827316549"},{mission:"209060038004508100605000409050340020000001000470006891000420913042910600097000204",solution:"219764538734598162685132479851349726926871345473256891568427913342915687197683254"},{mission:"038764200160008030479102600300000020020340051000250400013027500607010000250600007",solution:"538764219162598734479132685345871926726349851891256473913427568687915342254683197"},{mission:"068027901000910008107003040470206000051349700020870350019060000030500006605000407",solution:"568427931342915678197683245473256819851349762926871354219764583734598126685132497"},{mission:"004300001007091240190040800709200506002050030000076912405080000270000158000625370",solution:"524368791867591243193742865749213586612859437358476912435187629276934158981625374"},{mission:"503200100006007802100300705351002084007040610460801000000008561002415070805060000",solution:"573284196946157832128396745351672984287549613469831257734928561692415378815763429"}];return e[Math.floor(Math.random()*e.length)]};var j=function(e){var t=e.cellConfig;return Object(i.jsx)("td",{className:function(){var c=["game-cell"];return e.selected&&c.push("cell-selected"),t&&t.value>0&&t.value!==t.solution&&c.push("cell-mistake"),c.join(" ")}(),onClick:function(){console.log("clicked cell:",t),null!==t&&e.setSelectedCell(t)},children:Object(i.jsx)("div",{className:"cell-value"+((null===t||void 0===t?void 0:t.prefilled)?" cell-prefilled":""),children:(null===t||void 0===t?void 0:t.value)?t.value:""})})};c(14);var m=function(){return Object(i.jsxs)("div",{className:"hotkeys-wrapper",children:[Object(i.jsx)("p",{children:"Hotkeys:"}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("code",{children:"1-9"})," \u2014 fill selected cell"]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("code",{children:"0"}),", ",Object(i.jsx)("code",{children:"Backspace"})," \u2014 erase selected cell"]})]})]})};function f(e){return function(e){if(e<60)return"00";var t=Math.floor(e/60);return t>=100?t.toString():("0"+t).slice(-2)}(e)+":"+function(e){return("0"+e%60).slice(-2)}(e)}var O=function(e){var t=e.secondsSpent;return Object(n.useEffect)((function(){if(!e.finished){var c=setTimeout((function(){console.log("timer +1"),e.setSecondsSpent(t+1)}),1e3);return function(){return clearTimeout(c)}}})),Object(i.jsx)("span",{className:"timer",children:f(e.secondsSpent)})};var b=function(e){return Object(i.jsxs)("div",{className:"records-wrapper",children:[Object(i.jsx)("p",{children:"Last 10 Records:"}),e.records.length?Object(i.jsx)("ul",{children:e.records.map((function(e,t){return Object(i.jsx)("li",{children:f(e)},t)}))}):null]})},v=c(5),h=c.p+"static/media/click.d800ae9a.mp3",p=c.p+"static/media/correct.23d0e138.mp3",g=c.p+"static/media/wrong.0afb49d7.mp3";var S=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),S=r[0],x=r[1],N=Object(n.useState)([]),w=Object(o.a)(N,2),y=w[0],k=w[1],C=Object(n.useState)(),E=Object(o.a)(C,2),I=E[0],L=E[1],_=Object(n.useState)(!1),J=Object(o.a)(_,2),M=J[0],T=J[1],D=Object(n.useState)(0),R=Object(o.a)(D,2),F=R[0],P=R[1],B=Object(n.useState)(0),A=Object(o.a)(B,2),G=A[0],H=A[1],Y=Object(n.useRef)(y);Y.current=y;var K=Object(v.a)(h,{volume:G}),W=Object(o.a)(K,1)[0],q=Object(v.a)(p,{volume:G}),z=Object(o.a)(q,1)[0],Q=Object(v.a)(g,{volume:G}),U=Object(o.a)(Q,1)[0];function V(e,t){for(var c=[],n=e;n<=t;n++)c.push(n);return c}function X(e){return void 0!==I&&I.row===e.row&&I.col===e.col}function Z(e){if(console.log("key pressed:",e.key),I)switch(e.key){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":$(parseInt(e.key));break;case"0":case"Backspace":$(0)}else console.log("No cell selected when key pressed:",e.key)}function $(e){if(I&&!I.prefilled&&!S){I.solution===e?z():U();var t=JSON.parse(JSON.stringify(y));t[I.row][I.col].value=e,k(t)}}function ee(e){if(!e.length)return!1;var t,c=Object(l.a)(e);try{for(c.s();!(t=c.n()).done;){var n,a=t.value,s=Object(l.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value;if(r.value!==r.solution)return!1}}catch(o){s.e(o)}finally{s.f()}}}catch(o){c.e(o)}finally{c.f()}return!0}function te(e){W(),L(e)}function ce(e){var t=function(e){var t,c=[],n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var a,s=t.value,r=Object(l.a)(s);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.prefilled||o.value===o.solution||c.push(o)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){n.e(u)}finally{n.f()}if(!c.length)return null;var i=c[Math.floor(Math.random()*c.length)];return te(i),i}(e);t&&setTimeout((function(){var c=JSON.parse(JSON.stringify(e));if(7===ne(1,7)){var n=ne(1,9);c[t.row][t.col].solution===n?z():U(),c[t.row][t.col].value=n,k(c)}else c[t.row][t.col].value=t.solution,k(c),z()}),600/ne(1,5))}function ne(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function ae(e){P(e)}return Object(n.useEffect)((function(){return document.addEventListener("keydown",Z),function(){document.removeEventListener("keydown",Z)}}),[I]),Object(n.useEffect)((function(){var e=localStorage.getItem("RECORDS");e&&a(JSON.parse(e));var t=localStorage.getItem("SECONDS_SPENT");t&&P(parseInt(t));var c=JSON.parse(localStorage.getItem("CELLS"));c&&k(c);var n="1"===localStorage.getItem("SHOW_MISTAKES");if(T(n),!c){var s=setTimeout((function(){!function(){var e=d();console.log("Start new game...",e);for(var t=new Array,c=0,n=0;n<=8;n++){t[n]=new Array;for(var a=0;a<=8;a++)t[n][a]={value:parseInt(e.mission[c]),solution:parseInt(e.solution[c]),prefilled:e.mission[c]===e.solution[c],row:n,col:a},c++}k(t)}()}),700);return function(){clearTimeout(s)}}ee(c)&&x(!0)}),[]),Object(n.useEffect)((function(){localStorage.setItem("RECORDS",JSON.stringify(c)),localStorage.setItem("SHOW_MISTAKES",M?"1":"0"),localStorage.setItem("SECONDS_SPENT",F.toString()),localStorage.setItem("CELLS",JSON.stringify(y));var e=JSON.parse(localStorage.getItem("dataMusicSound"));e&&H(e.valueSound/10),!S&&ee(y)&&(localStorage.removeItem("CELLS"),localStorage.removeItem("SECONDS_SPENT"),x(!0),alert("Congrats! Your score is "+f(F)+". You can start new game."),c.unshift(F),a(c.slice(0,10)))})),Object(i.jsxs)("div",{className:"sudoku-wrapper",children:[Object(i.jsxs)("div",{className:"game-info-wrapper flex-wrapper",children:[Object(i.jsx)("div",{className:"check-mistakes-wrapper",children:Object(i.jsxs)("label",{className:"check-mistakes",children:[Object(i.jsx)("span",{className:"label-text",children:"Show Mistakes"}),Object(i.jsx)("span",{className:"switch",children:Object(i.jsx)("input",{type:"checkbox",checked:M,onChange:function(){T(!M)}})})]})}),Object(i.jsx)("div",{className:"timer-wrapper",children:Object(i.jsx)(O,{secondsSpent:F,setSecondsSpent:ae,finished:S})}),Object(i.jsx)("div",{className:"full-screen-wrapper",children:Object(i.jsx)("input",{type:"button",value:document.fullscreenElement?"Minimize":"Full Screen",onClick:function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}})})]}),Object(i.jsxs)("div",{className:"game-flex-wrapper",children:[Object(i.jsx)("div",{className:"game-wrapper",children:Object(i.jsx)("div",{className:"game",children:Object(i.jsx)("table",{className:"game-table"+(M?" show-mistakes":"")+(S?" game-finished":""),children:Object(i.jsx)("tbody",{children:V(0,8).map((function(e){return Object(i.jsx)("tr",{className:"game-row",children:V(0,8).map((function(t){var c=y.length?y[e][t]:null;return Object(i.jsx)(j,{cellConfig:c,selected:!!c&&X(c),setSelectedCell:te},e.toString()+t.toString())}))},e)}))})})})}),Object(i.jsx)("div",{className:"game-controls-wrapper",children:Object(i.jsxs)("nav",{children:[Object(i.jsx)(u,{restartCells:function(){var e,t=JSON.parse(JSON.stringify(y)),c=Object(l.a)(t);try{for(c.s();!(e=c.n()).done;){var n,a=e.value,s=Object(l.a)(a);try{for(s.s();!(n=s.n()).done;){var r=n.value;r.prefilled||(r.value=0)}}catch(o){s.e(o)}finally{s.f()}}}catch(o){c.e(o)}finally{c.f()}k(t),ae(0)}}),Object(i.jsx)("input",{type:"button",value:"Solve all automatically",onClick:function e(){S?alert("The game is already solved. Click Start New Game or Restart."):setTimeout((function(){var t=JSON.parse(JSON.stringify(Y.current));ce(t),ee(t)||e()}),600+ne(100,700))}}),Object(i.jsx)(m,{}),Object(i.jsx)(b,{records:c})]})})]})]})};c(15);var x=function(){return Object(i.jsx)("header",{className:"site-header",children:Object(i.jsx)("div",{className:"content-wrapper",children:Object(i.jsx)("a",{href:"/",className:"logo-sudoku",children:" "})})})},N=c.p+"static/media/rs_school_js.ad178c0d.svg";c(16);var w=function(){return Object(i.jsx)("footer",{className:"site-footer",children:Object(i.jsxs)("div",{className:"content-wrapper flex-wrapper",children:[Object(i.jsx)("div",{className:"footer-item",children:Object(i.jsx)("a",{className:"rs-logo",href:"https://rs.school/js/",children:Object(i.jsx)("img",{src:N,alt:"RS School"})})}),Object(i.jsxs)("div",{className:"footer-item",children:[Object(i.jsx)("a",{href:"https://github.com/bopoda",children:"Eugene Yurkevich"}),", 2021"]}),Object(i.jsx)("div",{className:"footer-item",children:" "})]})})},y=c.p+"static/media/birds.3515c56d.mp3";function k(){var e=document.getElementById("audio-music"),t=document.getElementById("audio-sound"),c=Object(n.useState)(0),a=Object(o.a)(c,2),s=a[0],r=a[1],l=Object(n.useState)(0),u=Object(o.a)(l,2),d=u[0],j=u[1];return Object(n.useEffect)((function(){var e={valueMusic:s,valueSound:d};localStorage.setItem("dataMusicSound",JSON.stringify(e))})),Object(i.jsxs)("div",{className:"sound-control",children:[Object(i.jsx)("audio",{volume:s/10,loop:!0,id:"audio-music",src:y}),Object(i.jsxs)("p",{className:"sound-control__music",children:["Music",Object(i.jsx)("span",{className:"sound-control__Off",children:" "})]}),Object(i.jsx)("input",{id:"range",min:"0",max:"10",type:"range",value:s,name:"range",step:"1",onClick:function(t){t.target.value===t.target.min?e.pause():(e.volume=t.target.value/10,e.play())},onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("audio",{id:"audio-sound",volume:d/10,src:h}),Object(i.jsxs)("p",{className:"sound-control__sound",children:["Sound",Object(i.jsx)("span",{className:"sound-control__Off",children:" "})]}),Object(i.jsx)("input",{id:"range",min:"0",max:"10",type:"range",value:d,name:"range",step:"1",onClick:function(e){t.pause(),e.target.value!==e.target.min&&(t.volume=e.target.value/10,t.play())},onChange:function(e){return j(e.target.value)}})]})}var C=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(x,{}),Object(i.jsxs)("div",{className:"content-wrapper site-content-wrapper",id:"site-content-wrapper",children:[Object(i.jsx)("div",{className:"site-content",children:Object(i.jsx)(S,{})}),Object(i.jsx)("aside",{children:Object(i.jsx)(k,{})})]}),Object(i.jsx)(w,{})]})},E=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,20)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),E()}],[[17,1,2]]]);
//# sourceMappingURL=main.0d0d0ff2.chunk.js.map